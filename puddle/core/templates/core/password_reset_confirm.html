{% extends "core/base.html" %}

{% block title %}Enter new password{% endblock %}

{% block content %}
<div class="max-w-md mx-auto my-10 auth-card">
    <h1 class="auth-heading">Set a new password</h1>

    {% if validlink %}
    <p class="form-info">Please enter your new password below.</p>
    <form method="post" class="space-y-4">
        {% csrf_token %}
        <div>
            <label class="form-label text-sm font-bold" for="{{ form.new_password1.id_for_label }}">
                New password
            </label>
            {{ form.new_password1 }}
            {% if form.new_password1.errors %}
            {% for error in form.new_password1.errors %}
            <p class="form-field-error">{{ error }}</p>
            {% endfor %}
            {% endif %}
        </div>
        <div>
            <label class="form-label text-sm font-bold" for="{{ form.new_password2.id_for_label }}">
                Confirm password
            </label>
            {{ form.new_password2 }}
            {% if form.new_password2.errors %}
            {% for error in form.new_password2.errors %}
            <p class="form-field-error">{{ error }}</p>
            {% endfor %}
            {% endif %}
        </div>
        <div class="flex justify-center pt-4">
            <button class="btn-full-rounded" type="submit">
                Change my password
            </button>
        </div>
    </form>
    {% else %}
    <div class="text-center">
        <p class="alert-message">The password reset link was invalid, possibly because it has already been used. Please
            request a new password reset.</p>
        <a href="{% url 'core:password_reset' %}" class="text-link">Request a new password reset</a>
    </div>
    {% endif %}
</div>
{% endblock %}
